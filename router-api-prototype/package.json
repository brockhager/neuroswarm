{
  "name": "router-api-prototype",
  "version": "0.1.0",
  "description": "Router API prototype (tests + CI scripts)",
  "type": "module",
  "dependencies": {
    "express": "^4.19.2",
    "jose": "^5.2.4",
    "ajv": "^8.12.0",
    "better-sqlite3": "^9.4.6"
  },
  "scripts": {
    "start": "node server.js",
    "test:unit": "node --test tests/unit/**/*.mjs",
    "test:integration": "node --test tests/integration/**/*.mjs",
    "test:contract": "node --test tests/contract/**/*.mjs",
    "test:ci": "npm run test:unit && npm run test:integration && npm run test:contract",
    "postinstall": "npm run build:sqlite || true",
    "build:sqlite": "if [ -d 'node_modules/better-sqlite3' ]; then echo 'Attempting better-sqlite3 rebuild...'; npm rebuild better-sqlite3; else echo 'better-sqlite3 not installed, skipping rebuild.'; fi"
  },
  "engines": {
    "node": ">=20"
  }
}
